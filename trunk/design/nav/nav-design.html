<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>VisualizeHistory.com</title>
	<link rel="stylesheet" type="text/css" href="css/styles.css" />

	<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.5.1/build/fonts/fonts-min.css" />
	<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.5.1/build/button/assets/skins/sam/button.css" />
	<script type="text/javascript" src="http://yui.yahooapis.com/2.5.1/build/yahoo-dom-event/yahoo-dom-event.js"></script>
	<script type="text/javascript" src="http://yui.yahooapis.com/2.5.1/build/element/element-beta-min.js"></script>

	<script type="text/javascript" src="http://yui.yahooapis.com/2.5.1/build/button/button-min.js"></script>
	
	<script type="text/javascript" src="NavCheckbox.js"></script>
	
	<script>
	
	var t;
	
	function Map(){
		this.me = 'Me me me';
		this.toggleTopicVisibility = function(arg){
			console.log('Toggling topic visibility');
		};
	}
	
	function Topic(map){
		this.isDescVisible = true;
		this.map = map;
		
		//NavCheckbox(id, classBase, listenerObj1, listenerObj2, isChecked){
		this.ls = document.getElementById('ul');
		this.li = document.createElement('li');
		this.li.setAttribute('id', 'li');
		this.ls.appendChild(this.li);

		var listener1 = {
				fn:    map.toggleTopicVisibility, 
				obj:   this,
				scope: this.map
		};
		this.showHideEvents = new NavCheckbox('cb1', 'show-hide-events', true, listener1);

		var listener1 = {
				fn:    this.toggleDescVisibility, 
				obj:   this,
				scope: this
		};
		this.showHideDesc = new NavCheckbox('cb2', 'show-hide-desc', true, listener1, null, null, this);
		
		var listener2 = {
				fn:    this.showHideDesc.toggleBg, 
				obj:   this,
				scope: this.showHideDesc
		};
		this.title = "U.S. Presidents";
		this.titleLink = new NavCheckbox('cb3', 'title-link', true, listener1, listener2, "+ " + this.title);
		
		
		this.addButton = new YAHOO.widget.Button(
					{
					type: "checkbox", 
					label: "add", 
					title: "title",
					id: "cb5", 
					name: "todo: name", 
					container: "li", 
					}
				);
		YAHOO.util.Dom.addClass(this.addButton._button,'push-button');
		this.addButton.addClass('add');
		// todo: add onclick handler
		
		this.removeButton = new YAHOO.widget.Button(
					{
					type: "checkbox", 
					label: "remove", 
					title: "title",
					id: "cb6", 
					name: "todo: name", 
					container: "li", 
					}
				);
		YAHOO.util.Dom.addClass(this.removeButton._button,'push-button');
		this.removeButton.addClass('remove');
		
	}
	
	Topic.prototype.toggleDescVisibility = function(event){
		//. todo: make this not use document.getElt( by id)
		
		var display;
		var pre;
		if(this.isDescVisible){
			display = "block";
			pre = "- ";
			
		}else{
			display = "none";
			pre = "+ ";
		}
		document.getElementById("desc").style.display = display;
		this.titleLink.set('label', pre + this.title);
		
		this.isDescVisible = !this.isDescVisible;
	}
	
	function load(){
		var m = new Map();
		t = new Topic(m);
	}
	
	</script>
</head>
<body class="sidebar-right" onload="load()">
  <div id="header">
	<h1>Visualize History <span class="dotcom">.com</span></h1>
  </div>
  <div id="content">
	<div id="viewing-panel">
		<div id="map"></div>
	</div>
	<div id="nav-panel">
		<h3>Popular Examples</h3>
		<ol id="ul">
			
		</ol>
		<p id="desc">The description</p>
	</div>
  </div>
  <div id="footer">
	<em>footer</em> | <em>footer</em> | <em>footer</em>
  </div>
  </body>
</html>
